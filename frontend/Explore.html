<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Explore haunted histories and ghostly tales across cities worldwide.">
  <title>Haunted Histories</title>
  <link rel="stylesheet" href="./styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>

<body>

  <!-- Header -->
  <header class="main-header">
    <div class="container header-content">
      <h3 class="name">
        <img src="https://d28lcup14p4e72.cloudfront.net/239025/8059813/Eeriecast%20Logo%20Revamp.png" class="logo">
        Haunted Histories
      </h3>

      <nav class="nav-menu">
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a id="login-button" href="login.html">Login</a></li>
          <li><a id="signup-button" href="signup.html">Signup</a></li>
          <li><a id="logout-button" onclick="logout()" style="cursor: pointer; display: none;">Logout</a></li>
        </ul>
      </nav>

    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <video autoplay muted loop class="background-video">
      <source src="./videos/about.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
    <div class="hero-content">
      <h2>Unravel Ghostly Mysteries</h2><br>
      <p>Step into the shadows of haunted heritage – from eerie ruins to the mysteries of ancient forts and forgotten castles.</p>

      <div class="city-selector">
        <label for="city-select">Select a City to Explore Haunted Locations:</label>
        <select id="city-select" onchange="showLocations()" style="cursor: pointer;">
          <option value="" disabled selected>Select a City...</option>
          <option value="vadodara">Vadodara</option>
        </select>

        <div id="location-list" style="display:none;">
          <label for="location-select">Select a Haunted Location:</label>
          <select id="location-select" style="cursor: pointer;">
            <option value="" disabled selected>Select a location...</option>
            <option value="vadodara_metro_hospital">Metro Hospital</option>
            <option value="sardar_vallabhbhai_patel_museum">Sardar Vallabhbhai Patel Institute</option>
            <option value="mandvigate">Mandvi Gate</option>
            <option value="ajwa_waterpark">Ajwa Waterpark</option>
            <option value="kirti_mandir">Kirti Mandir</option>
          </select>
          <button id="explore-button" onclick="exploreLocation()" style="cursor: pointer;">Explore Haunted Location</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="main-footer">
    <div class="container">
      <p>© 2024 Haunted Histories. All Rights Reserved.</p>
      <p>Designed with passion and a hint of spookiness.</p>
    </div>
  </footer>

  <script>

    function showLocations() {
      const citySelect = document.getElementById("city-select");
      const locationList = document.getElementById("location-list");

      locationList.style.display = "none";

      const selectedCity = citySelect.value;

      if (selectedCity) {
        locationList.style.display = "block";
      } else {
        locationList.style.display = "none";
      }
    }

    function exploreLocation() {
      const locationSelect = document.getElementById("location-select");
      const selectedLocation = locationSelect.value;

      if (selectedLocation) {
        const citySelect = document.getElementById("city-select");
        const selectedCity = citySelect.value;

        window.location.href = `./stories/${selectedCity}/${selectedLocation}.html`;
      } else {
        alert("Please select a haunted location to explore.");
      }
    }

    async function logout() {
      try {
        const response = await fetch(`/api/auth/logout`, { method: 'POST', credentials: 'include' });
        const data = await response.json();
        if (data.message === 'Logged out successfully') {
          alert("You have been logged out!");
          window.location.href = 'index.html';
        } else {
          alert("Logout failed. Please try again.");
        }
      } catch (error) {
        console.error("Logout error:", error);
        alert("An error occurred while logging out.");
      }
    }
  </script>
<script src="auth.js"></script>

</body>

</html>
